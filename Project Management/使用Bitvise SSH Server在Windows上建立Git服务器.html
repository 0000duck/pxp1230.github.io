<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>使用Bitvise SSH Server在Windows上建立Git服务器 - </title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style type="text/css">
  h1,h2,h3,h4,h5,h6,p,div,blockquote,ol,ul,li,img,li div{font-size:14px;font-family:"Hiragino Sans GB","Microsoft YaHei",tahoma,arial,simsun;line-height:21px;vertical-align:baseline;color:#0CF;word-wrap:break-word;word-break:normal;margin:0 0 10px;padding:0;}body{background-color:#1A1A1A;margin:10px;}embed,img{max-width:100%;margin:5px auto 0;}embed{margin:5px auto;}strong,em{color:#C0F;}ol,ul{margin:0 0 10px 2em;}ul ul,ol ol,ul ol,ol ul{margin:0 0 5px 2em;}li{margin-bottom:5px;}h1,h2,h3,h4,h5,h6{color:#FC0;border-color:#FC0;margin:20px 0 10px;}h1{margin-top:80px;font-size:28px;line-height:32px;border-bottom:2px solid;padding-bottom:0;}h2{font-size:24px;line-height:28px;}h3{font-size:22px;line-height:26px;}h4{font-size:20px;line-height:24px;}h5{font-size:18px;line-height:22px;}h6{font-size:16px;line-height:20px;}code{font-family:Menlo,Monaco,Consolas,"Andale Mono","lucida console","Courier New",monospace;font-size:12px;line-height:1.5;box-shadow:0 0 8px rgba(0,0,0,0.4);color:#C0F;background-color:#510065;border:1px solid #C0F;border-radius:3px;word-wrap:normal;padding:0 4px;}pre{display:inline-block;margin:0 0 10px;min-width: 100%;}pre>code{border:none!important;padding:5px 10px!important;}a,a:active,a:visited{font-weight:bold;color:#C0F;}a:hover{background-color:#510065;}hr{border-width:0;border-top:1px dashed #0CF;margin:20px 0;}blockquote{background-color:#005266;border-left:5px solid #0CF;border-radius:3px;padding:5px 10px;}blockquote p{margin:0;}
  </style>
  
  
  <meta charset="UTF-8"/>
  <meta name="author" content="潘霄鹏 - weibo.com/pxp1230">
  <meta name="keywords" content="潘霄鹏笔记">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  tex2jax: {inlineMath:[['$','$']],processEscapes:true}
  });
  </script>
  <script type="text/javascript" src="file:///storage/emulated/0/MathJax-master/MathJax-master/MathJax.js?config=TeX-AMS_HTML"></script>
  <script type="text/javascript" src="file:///C:/MathJax-master/MathJax-master/MathJax.js?config=TeX-AMS_HTML"></script>
  <script type="text/javascript" src="file:///storage/emulated/0/highlight/highlight.pack.js"></script>
  <script type="text/javascript" src="file:///C:/highlight/highlight.pack.js"></script>
  <script type="text/javascript" src="file:///storage/emulated/0/pxp1230.github.io.js"></script>
  <script type="text/javascript" src="file:///C:/pxp1230.github.io.js"></script>
  <script type="text/javascript">
  if(window.location.protocol!="file:"){var d=document,s=d.createElement('script');s.src='/pxp1230.github.io.js';d.head.appendChild(s);}
  </script>
</head>
<body>
<h1 id="bitvise-ssh-serverwindowsgit">使用Bitvise SSH Server在Windows上建立Git服务器</h1>
<ol>
<li><p>下载并安装Bitvise SSH Server<br />
官网：<a href="https://www.bitvise.com/ssh-server-download" class="uri">https://www.bitvise.com/ssh-server-download</a></p></li>
<li><p>打开Bitvise SSH Server配置界面</p></li>
<li><p>在Host Keys区域中点击 <code>Manage host keys</code> ，再点击 <code>Generate New...</code> ， 配置如下：<br />
<img src="使用Bitvise%20SSH%20Server在Windows上建立Git服务器_files/0.jpg" alt="" /></p></li>
<li><p>在Settings区域中点击 <code>Open easy settings</code> ，设置Open Windows Firewall为 <code>Open port(s) to any computer</code> ；在Virtual accounts中添加虚拟账户，配置如下：<br />
<img src="使用Bitvise%20SSH%20Server在Windows上建立Git服务器_files/1.jpg" alt="" /><br />
其中Git binaries directory路径为 <code>C:\Program Files (x86)\Git\libexec\git-core</code><br />
一个虚拟账户对应一个仓库，可以设置多个Public keys方便多人协作管理这个仓库：<br />
<img src="使用Bitvise%20SSH%20Server在Windows上建立Git服务器_files/2.jpg" alt="" /></p></li>
<li><p>点击 <code>Start Server</code> 开启SSH服务</p></li>
<li><p>在SourceTree中更改SSH客户端配置：<br />
<img src="使用Bitvise%20SSH%20Server在Windows上建立Git服务器_files/3.jpg" alt="" /></p></li>
<li><p>在SourceTree中的Git设置为使用系统安装的Git</p></li>
<li><p>克隆远程仓库，设置URL路径如 <code>ssh://roc@192.168.0.126/</code> ，第一次连接需要填写登录密码</p></li>
<li><p>远程仓库需要修改git的配置文件，否则会出现git push remote error<br />
在remote端设置git的配置文件（.git/config），在其中添加如下内容：</p>
<pre><code>[receive]
denyCurrentBranch = false</code></pre></li>
</ol>
</body>
</html>
